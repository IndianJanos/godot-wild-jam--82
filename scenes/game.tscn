[gd_scene load_steps=10 format=4 uid="uid://bim8w7s70lfbb"]

[ext_resource type="TileSet" uid="uid://c3xn7o75bmbg0" path="res://tile_sets/school.tres" id="1_p57ef"]
[ext_resource type="Texture2D" uid="uid://dlr1tmmj24u3u" path="res://assets/sprites/light.png" id="1_uwrxv"]
[ext_resource type="Texture2D" uid="uid://0hkt3ew7qjwq" path="res://icon.svg" id="1_yqjtg"]
[ext_resource type="Script" uid="uid://cbxb2ln75d0qc" path="res://scripts/player.gd" id="2_lnu2h"]
[ext_resource type="Texture2D" uid="uid://c4vik3f4g8750" path="res://assets/sprites/player0.png" id="4_iywne"]
[ext_resource type="Script" uid="uid://bymq0ctd1hpyl" path="res://scripts/enemy.gd" id="4_lbhrr"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_iywne"]
vertices = PackedVector2Array(483, 448.031, 219, 448.961, 219, 266, 483, 266)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2, 3)])
outlines = Array[PackedVector2Array]([PackedVector2Array(209, 256, 493, 256, 493, 458, 209, 459)])

[sub_resource type="RectangleShape2D" id="RectangleShape2D_lnu2h"]
size = Vector2(25, 721)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_yqjtg"]
size = Vector2(15, 20)

[node name="Game" type="Node2D"]

[node name="TileMapLayer" type="TileMapLayer" parent="."]
scale = Vector2(0.99989, 0.988709)
tile_map_data = PackedByteArray("AADJABYAEAAAAAAAAADKABYAHQAAAAAAABDCABMAHQAAAAAAAADCABYAHQAAAAAAAADDABYAEAAAAAAAAADEABYAEAAAAAAAAADFABYAEAAAAAAAAADGABYADwAAAAAAAADHABYAEAAAAAAAAADIABYAEAAAAAAAAADIABMAEAAAAAAAAADGABMADwAAAAAAAADEABMAEAAAAAAAAADDABMAEAAAAAAAAADFABMAEAAAAAAAAADHABMAEAAAAAAAAADJABMAEAAAAAAAAADIABcAEQAAAAAAAADHABcAEQAAAAAAAADFABcAEQAAAAAAAADEABcAEQAAAAAAAADCABcAHQAAAAAAAADKABcAHQAAAAAAABDJABcAEQAAAAAAAADGABcADwAAAAAAAADDABcAEQAAAAAAAADCABEAGgAAAAAAAADDABEAGwAAAAAAAADEABEAFgAAAAAAAADFABEAFwAAAAAAAADGABEAHAAAAAAAAADHABEAFwAAAAAAAADIABEAFgAAAAAAAADJABEAGwAAAAAAAADKABEAGgAAAAAAABDGABIADwAAAAAAAADIABIADwAAAAAAAADEABIADwAAAAAAAADFABIADwAAAAAAAADHABIADwAAAAAAAADJABIADwAAAAAAAADDABIADwAAAAAAAADCABQAHQAAAAAAAADDABQAEQAAAAAAAADEABQAEQAAAAAAAADFABQAEQAAAAAAAADGABQADwAAAAAAAADHABQAEQAAAAAAAADIABQAEQAAAAAAAADJABQAEQAAAAAAAADKABMAHQAAAAAAABDKABQAHQAAAAAAABDJABUADwAAAAAAAADIABUADwAAAAAAAADHABUADwAAAAAAAADGABUADwAAAAAAAADFABUADwAAAAAAAADEABUADwAAAAAAAADDABUADwAAAAAAAADCABIAHQAAAAAAAADCABUAHQAAAAAAAADKABIAHQAAAAAAABDKABUAHQAAAAAAABDCABgAJQAAAAAAAADKABgAFQAAAAAAABDDABgAEwAAAAAAAADEABgAEwAAAAAAAADFABgAEwAAAAAAAADGABgAEwAAAAAAAADHABgAEwAAAAAAAADIABgAEwAAAAAAAADJABgAEwAAAAAAAADBABAADwAAAAAAAADCABAADwAAAAAAAADDABAADwAAAAAAAADEABAADwAAAAAAAADFABAADwAAAAAAAADGABAADwAAAAAAAADHABAADwAAAAAAAADIABAADwAAAAAAAADJABAADwAAAAAAAADKABAADwAAAAAAAADLABAADwAAAAAAAADLABEADwAAAAAAAADLABIADwAAAAAAAADLABMADwAAAAAAAADLABQADwAAAAAAAADLABUADwAAAAAAAADLABYADwAAAAAAAADLABcADwAAAAAAAADLABgADwAAAAAAAADLABkADwAAAAAAAADKABkADwAAAAAAAADJABkADwAAAAAAAADIABkADwAAAAAAAADHABkADwAAAAAAAADGABkADwAAAAAAAADFABkADwAAAAAAAADEABkADwAAAAAAAADDABkADwAAAAAAAADCABkADwAAAAAAAADBABkADwAAAAAAAADBABEADwAAAAAAAADBABIADwAAAAAAAADBABMADwAAAAAAAADBABQADwAAAAAAAADBABUADwAAAAAAAADBABYADwAAAAAAAADBABcADwAAAAAAAADBABgADwAAAAAAAAA=")
tile_set = ExtResource("1_p57ef")

[node name="CanvasModulate" type="CanvasModulate" parent="TileMapLayer"]
position = Vector2(-0.000549316, 0.000305176)
scale = Vector2(0.999996, 0.999999)
color = Color(0, 0, 0, 1)

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="TileMapLayer"]
position = Vector2(6002, 318)
navigation_polygon = SubResource("NavigationPolygon_iywne")

[node name="Background" type="Sprite2D" parent="."]
position = Vector2(637, 357.5)
scale = Vector2(9.92188, 5.57031)
texture = ExtResource("1_yqjtg")

[node name="Wall2" type="StaticBody2D" parent="."]
position = Vector2(1257, 2)

[node name="Sprite2D" type="Sprite2D" parent="Wall2"]
position = Vector2(14.25, 357.5)
scale = Vector2(0.183594, 5.57031)
texture = ExtResource("1_yqjtg")

[node name="PointLight2D" type="PointLight2D" parent="Wall2"]
position = Vector2(14.25, 357.5)
scale = Vector2(0.367187, 11.1406)
color = Color(0.999999, 0.813079, 0.750217, 1)
texture = ExtResource("1_uwrxv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall2"]
position = Vector2(13.5, 361.5)
shape = SubResource("RectangleShape2D_lnu2h")

[node name="Enemy" type="CharacterBody2D" parent="."]
position = Vector2(6360, 647)
script = ExtResource("4_lbhrr")
target_node = NodePath("../Player")
nav_region_path = NodePath("../TileMapLayer/NavigationRegion2D")
patrol_points = Array[Vector2]([Vector2(6359, 668), Vector2(6150, 668)])
cone_length = 50.0

[node name="Polygon2D" type="Polygon2D" parent="Enemy"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Enemy"]
position = Vector2(0, -4)
shape = SubResource("RectangleShape2D_yqjtg")

[node name="Sprite2D" type="Sprite2D" parent="Enemy"]
position = Vector2(1, -7)
texture = ExtResource("4_iywne")

[node name="Wall" type="StaticBody2D" parent="."]

[node name="Sprite2D" type="Sprite2D" parent="Wall"]
position = Vector2(14.25, 357.5)
scale = Vector2(0.183594, 5.57031)
texture = ExtResource("1_yqjtg")

[node name="PointLight2D" type="PointLight2D" parent="Wall"]
position = Vector2(14.25, 357.5)
scale = Vector2(0.367187, 11.1406)
color = Color(0.999999, 0.813079, 0.750217, 1)
texture = ExtResource("1_uwrxv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Wall"]
position = Vector2(13.5, 361.5)
shape = SubResource("RectangleShape2D_lnu2h")

[node name="Player" type="CharacterBody2D" parent="."]
position = Vector2(6341, 680)
script = ExtResource("2_lnu2h")
speed = 15000.0

[node name="Sprite2D" type="Sprite2D" parent="Player"]
texture = ExtResource("4_iywne")

[node name="PointLight2D" type="PointLight2D" parent="Player"]
color = Color(0.999999, 0.813079, 0.750217, 1)
texture = ExtResource("1_uwrxv")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
position = Vector2(-0.5, 3)
shape = SubResource("RectangleShape2D_yqjtg")

[node name="Camera2D" type="Camera2D" parent="Player"]
zoom = Vector2(3, 3)
